# Frontend monorepo

Этот репощиторий содержит в себе приложения и библиотеки фронта:

```bash
apps/ # директория с приложениями
    container/ # приложение-контейнер для встраивания мирокрофнтов
      ...
    login/ # приложение страницы авторизации
      ...
packages/ # директория с библиотеками
    build-utils/ # библиотека для сбоки (собирает все прилоедния в одну директорию с учетом кофигураци для дальнейшей раздачи с помощью nginx)
      ...
    config-utils/ # библиотека с дефотными кофигурациями сборщиков
      ...
    vtb-constants/ # библиотека с константсами, необходимыми для сборки и запуска приложений
      ...
    vtb-shared/ # библиотека с общими компонентами
      ...
```

# Инструкция по запуску проекта:

> **_Рекомендуемая версия NodeJS для данного проекта - v19.2.0_**

```bash
# ./

pnpm i --frozen-lockfile # установка зависимостей
pnpm build:packages # сборка библиотек в правильном порядке

# для локального запуска проекта
pnpm start:micro # запустятся все микрофронты и приложение будет доступно по localhost:3000
```

В случае необходимости запуска отдельного приложения (для всех прилоежний, кроме container):

```bash
# ./apps/<app-name>

pnpm start # запустит приложения через react-scripts
# или
pnpm start:micro-singe # запустит придожение с конфигурацией webpack, аналогичной кофигурации для микрофронтов
```

В случае необходимости запуска приложения container

```bash
# ./apps/container

pnpm start:micro
```

Для при работке с конкретной библиотекой можно запустить ее в режиме hotreload

```bash
# ./package/<package-name>

pnpm watch:<package-type> # для разных библиотек название скрита отличается, посмотреть название скрипта можно в ./package/<package-name>/package.json
```

# Инструкция по локальному запуску сборке Docker и запуску:

```bash
docker build -t vtb-nft -f ./Dockerfile --progress=plain . # сборка
docker run --name vtb-nft -p 80:80 vtb-nft # запуск
```

при запуске есть возможность доставить значения в конфигурацию nginx при необходимости

После успехной сборки и запуска контейнера можно [открыть приложение](http://localhost)
